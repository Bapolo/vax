import{r as a,C as E,j as e}from"./index-NonGQob0.js";import{u as N,l as L,I as s,B as k,c as I,a as U}from"./useRedirecionar-DwO9csgn.js";import B from"./Loader-D3GQ9Qew.js";function A(){const[r,n]=a.useState(""),[l,c]=a.useState(""),[i,u]=a.useState(""),[d,m]=a.useState(""),[x,v]=a.useState(""),[y,h]=a.useState(!1),{logado:C,setLogado:g}=a.useContext(E),o=N();a.useEffect(()=>{localStorage.getItem("logadoOn")&&g(!0)},[]);async function b(t,w,S,p,f){if(!w||!S||!f||!p){v("Preecha os dados antes de enviar!");return}try{h(!0);const j=await I(t,f,p);n(""),c(""),u(""),m(""),g(!0),localStorage.setItem("logadoOn",!0),console.log("Usuario cadastrado com sucesso: ",j.user)}catch{throw new Error("Erro ao cadastrar")}finally{h(!1),C&&o("/")}}return e.jsx("div",{className:"container pb-10 px-4 font-light flex flex-col gap-3 m-auto justify-center items-center bg-white",style:{height:"100vh",width:"100vw"},children:y?e.jsx(B,{}):e.jsxs(e.Fragment,{children:[e.jsx("img",{src:L,onClick:()=>o("/"),alt:"Logo vax",className:"object-contain w-40"}),e.jsx("h1",{className:"text-4xl font-medium",children:"Cadastrar"}),e.jsx("h3",{className:"text-xl font-medium",children:"Cadastre-se no Vax para continuar"}),e.jsxs("form",{onSubmit:t=>t.preventDefault(),className:"font-light pt-2 flex flex-col items-center justify-center",children:[x&&e.jsx("p",{className:"text-red-600 my-2",children:x}),e.jsx(s,{type:"text",value:r,onChange:t=>n(t.target.value),placeholder:"nome"}),e.jsx(s,{type:"text",value:l,onChange:t=>c(t.target.value),placeholder:"sobrenome"}),e.jsx(s,{type:"email",value:i,onChange:t=>u(t.target.value),placeholder:"email"}),e.jsx(s,{type:"password",value:d,onChange:t=>m(t.target.value),placeholder:"senha"}),e.jsx(k,{type:"button",texto:"cadastrar",styles:"bg-black text-white text-black w-75",acao:()=>b(U,r,l,d,i)}),e.jsx("p",{className:"text-blue-700 underline",onClick:()=>o("/login"),children:"Login?"})]})]})})}export{A as default};
